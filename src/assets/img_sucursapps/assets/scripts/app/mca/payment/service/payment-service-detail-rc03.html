<h2 class="text-center">Pago de servicios</h2>
<form novalidate name="currentForm">
  <fieldset>
    <div class="row sumando-form-group ">
      <div class="row group-controls sumando-bg-white">
        <div class="row text-center">
          <img payee-logo ng-src="assets/images/payee_{{ command.payee.idFacturador }}.png" width="150px" alt="{{ command.payee.descripcion }}">
        </div>
        <div class="form-group">
          <label class="col-lg-3 control-label">Cuenta origen</label>

          <div class="col-lg-9">
            <input type="text" class="form-control input-lg" ng-model="command.consultaSaldosBXI.numeroCuenta" readonly>
          </div>
          <div class="clearfix"></div>
        </div>
        <div class="form-group" ng-if="payeeDetail.PSResCons.RerefUnoNom && payeeDetail.PSResCons.RerefUnoLon" ng-class="{
                      'has-error':  currentForm.ref01.$invalid && currentForm.ref01.$dirty,
                      'has-success': currentForm.ref01.$valid}">
          <label class="col-lg-3 control-label">{{payeeDetail.PSResCons.RerefUnoNom}}</label>

          <div class="col-lg-9">
            <input type="text" class="form-control input-lg" ng-model="command.ref01" name="ref01" ng-required="true" />
          </div>
          <div class="clearfix"></div>
        </div>
        <div class="form-group" ng-if="payeeDetail.PSResCons.RerefDosNom && payeeDetail.PSResCons.RerefDosLon" ng-class="{
                      'has-error':  currentForm.ref02.$invalid && currentForm.ref02.$dirty,
                      'has-success': currentForm.ref02.$valid}">
          <label class="col-lg-3 control-label">{{payeeDetail.PSResCons.RerefDosNom}}</label>

          <div class="col-lg-9">
            <input type="text" class="form-control input-lg" ng-model="command.ref02" name="ref02" />
          </div>
          <div class="clearfix"></div>
        </div>
        <div class="form-group" ng-if="payeeDetail.PSResCons.RerefTreNom && payeeDetail.PSResCons.RerefTreLon" ng-class="{
                      'has-error':  currentForm.ref03.$invalid && currentForm.ref03.$dirty,
                      'has-success': currentForm.ref03.$valid}">
          <label class="col-lg-3 control-label">{{payeeDetail.PSResCons.RerefTreNom}}</label>

          <div class="col-lg-9">
            <input type="text" class="form-control input-lg" ng-model="command.ref03" name="ref03" />
          </div>
          <div class="clearfix"></div>
        </div>
        <div class="form-group" ng-if="payeeDetail.PSResCons.RerefCuaNom && payeeDetail.PSResCons.RerefCuaLon" ng-class="{
                      'has-error':  currentForm.ref04.$invalid && currentForm.ref04.$dirty,
                      'has-success': currentForm.ref04.$valid}">
          <label class="col-lg-3 control-label">{{payeeDetail.PSResCons.RerefCuaNom}}</label>

          <div class="col-lg-9">
            <input type="text" class="form-control input-lg" ng-model="command.ref04" name="ref04" />
          </div>
          <div class="clearfix"></div>
        </div>

        <div class="form-group" ng-class="{
                      'has-error':  currentForm.dueDate.$invalid && currentForm.dueDate.$dirty,
                      'has-success': currentForm.dueDate.$valid}">
          <label class="col-lg-3 control-label">Fecha de vencimiento</label>

          <div class="col-lg-9">
            <input type="text" class="form-control input-lg" ng-model="command.dueDate" name="dueDate" placeholder="yyyy-mm-dd" ng-pattern="/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/" ng-required="true" invalid-popover="La fecha es invalida, la fecha debe estar en formato yyyy-mm-dd. Ejemplo: 2015-10-21."
            invalid-popover-placement="auto" />
          </div>
          <div class="clearfix"></div>
        </div>

        <div class="form-group" ng-class="{
                      'has-error':  currentForm.amount.$invalid && currentForm.amount.$dirty,
                      'has-success': currentForm.amount.$valid}">
          <label for="amount" class="col-lg-3 control-label">Importe</label>

          <div class="col-lg-9">
            <input name="amount" id="amount" type="text" step="0.01" currency ng-required="true" class="form-control amount input-lg" ng-model="command.amount" ng-min="1" ng-max="7000" invalid-popover="Solo se admite numeros y un maximo de 7000." invalid-popover-placement="auto"
            />
          </div>
          <div class="clearfix"></div>
        </div>
        <div class="form-group" ng-class="{
                      'has-error':  currentForm.email.$invalid && currentForm.email.$dirty,
                      'has-success': currentForm.email.$valid}">
          <label class="col-lg-3 control-label">Correo a notificar</label>

          <div class="col-lg-9">
            <input name="email" type="text" class="form-control input-lg" placeholder="" ng-model="command.email" ng-required="true" ng-pattern="/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/" maxlength="60" invalid-popover="Debe escribir una cuenta de correo valida."
            invalid-popover-placement="auto" />
          </div>
          <div class="clearfix"></div>
        </div>
        <br/>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-lg" ui-sref="mca.payment.service.init">Cancelar</button>
      <button type="button" class="btn btn-primary btn-lg" ng-click="onValidatePaymentRC03();" ng-disabled="currentForm.$invalid || disableSubmit">
        Confirmar
      </button>
    </div>
  </fieldset>
</form>
<!-- Modal -->
<div class="modal fade" id="confirmModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-body">
        <h4>Confirmar pago</h4>

        <ul class="list-group">
          <li class="list-group-item">
            <label>Cuenta origen:</label>
            {{ command.consultaSaldosBXI.numeroCuenta }}
          </li>
          <li class="list-group-item">
            <label>Servicio:</label>
            {{ validation.PSRcomPA.CnomEmp }}
          </li>
          <li class="list-group-item">
            <label>Importe neto:</label>
            {{ validation.PSRcomPA.Cimpor | currency }}
          </li>
          <li class="list-group-item">
            <label>Comision:</label>
            {{ validation.PSRcomPA.Ccomi | currency }}
          </li>
          <li class="list-group-item">
            <label>Descuentos:</label>
            {{ validation.PSRcomPA.Cdesc | currency }}
          </li>
          <li class="list-group-item">
            <label>Importe total:</label>
            {{ validation.PSRcomPA.CimpToPa | currency }}
          </li>
          <li class="list-group-item">
            <label>Correo:</label>
            {{ command.email }}
          </li>
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default btn-lg" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary btn-lg" ng-click="onProcessPaymentRC03(command.password);" ng-disabled="disableSubmit">
          Confirmar
        </button>
      </div>

    </div>
  </div>
</div>
